(function(a){typeof define=="function"&&define.amd?define(a):a()})(function(){"use strict";(()=>{const r="https://prod-47.northeurope.logic.azure.com:443/workflows/50b062f3b751428394c90d3c54c66633/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=jc_r21azv5xTgXYH9RwHjsKj0mIbOSJAw9AF-x-0Go8";function t(e,o){const n=e.querySelector(`[name="${o}"]`);return n?n.value:""}function l(e,o){const n=e.querySelector(`[name="${o}"]`);return n?n.checked:!1}function u(e){const o={Project:t(e,"Project"),LeadSource:t(e,"LeadSource"),FirstName:t(e,"name"),LastName:t(e,"surname"),StreetHouseNumber:t(e,"StreetHouseNumber"),PostalCode:t(e,"PostalCode"),Gender:t(e,"Gender"),Language:t(e,"Language"),Email:t(e,"email"),PhoneNumber:t(e,"phone"),MobilePhoneNumber:t(e,"MobilePhoneNumber"),Remarks:t(e,"note"),JobTitle:t(e,"JobTitle"),Donotbulkemail:l(e,"Donotbulkemail"),NewsLetter:l(e,"NewsLetter"),CreateContactIfNotExists:l(e,"CreateContactIfNotExists")};return console.log("\u{1F4E6} Lead data built:",o),o}async function i(e){e.preventDefault();const o=e.target;console.log("\u{1F680} Submitting lead from form:",o);const n=u(o);try{const s=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(console.log("\u{1F517} Request sent to:",r),s.ok){const c=await s.text();if(c)try{const d=JSON.parse(c);console.log("\u2705 Lead submitted successfully:",d)}catch{console.log("\u2705 Lead submitted successfully (no JSON):",c)}else console.log("\u2705 Lead submitted successfully (empty response body)")}else console.error("\u274C Failed to submit lead",await s.text())}catch(s){console.error("\u274C Error submitting lead:",s)}}document.querySelectorAll('form[data-name="Contact Form"]').forEach(e=>{e.addEventListener("submit",i),console.log("\u2705 Submit handler bound to form:",e)})})()});
