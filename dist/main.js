(function(c){typeof define=="function"&&define.amd?define(c):c()})(function(){"use strict";(()=>{console.log("this works");const r="https://prod-47.northeurope.logic.azure.com:443/workflows/50b062f3b751428394c90d3c54c66633/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=jc_r21azv5xTgXYH9RwHjsKj0mIbOSJAw9AF-x-0Go8";function t(e,s){const o=e.querySelector(`[name="${s}"]`);return o?o.value:""}function l(e,s){const o=e.querySelector(`[name="${s}"]`);return o?o.checked:!1}function u(e){var n,a;const o={Project:((n=document.querySelector('meta[property="og:site_name"]'))==null?void 0:n.content)||((a=document.querySelector('meta[name="site-name"]'))==null?void 0:a.content)||document.title||window.location.hostname,LeadSource:t(e,"LeadSource"),FirstName:t(e,"name"),LastName:t(e,"surname"),StreetHouseNumber:t(e,"StreetHouseNumber"),PostalCode:t(e,"PostalCode"),Gender:t(e,"Gender"),Language:t(e,"Language"),Email:t(e,"email"),PhoneNumber:t(e,"phone"),MobilePhoneNumber:t(e,"MobilePhoneNumber"),Remarks:t(e,"note"),JobTitle:t(e,"JobTitle"),Donotbulkemail:l(e,"Donotbulkemail"),NewsLetter:l(e,"NewsLetter"),CreateContactIfNotExists:l(e,"CreateContactIfNotExists")};return console.log("\u{1F4E6} Lead data built:",o),o}async function i(e){e.preventDefault();const s=e.target;console.log("\u{1F680} Submitting lead from form:",s);const o=u(s);try{const n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(console.log("\u{1F517} Request sent to:",r),n.ok){const a=await n.text();if(a)try{const d=JSON.parse(a);console.log("\u2705 Lead submitted successfully:",d)}catch{console.log("\u2705 Lead submitted successfully (no JSON):",a)}else console.log("\u2705 Lead submitted successfully (empty response body)")}else console.error("\u274C Failed to submit lead",await n.text())}catch(n){console.error("\u274C Error submitting lead:",n)}}document.querySelectorAll('form[data-name="Contact Form"]').forEach(e=>{e.addEventListener("submit",i),console.log("\u2705 Submit handler bound to form:",e)})})()});
